# CM-001: Code movement validation

**Risk**: Stale values/missing state

**When to check:** Mandatory for all non-trivial changes

Place each step defined below into TodoWrite.

**Mandatory code movement validation:**
- read full function definition of code src and destination
  - Output: function name, and a random line from anywhere in each definition
    - you must prove you read the function
- check all code movement in modified functions, even if they didn't change
- step 1: verify variable scope valid at new location (variables may be modified between old/new location)
  - Output: variable name and location
- step 2: check loop bounds still valid: trace 3+ iterations with concrete element names
  - Output: loop bound, filename, line number
  - for comparison changes: trace old and new iteration side-by-side
  - for(init; condition; advance) -- checks 'condition' BEFORE executing 'body'
  - for(init; condition; advance) -- 'advance' only runs AFTER 'body'
  - document which elements are included/excluded from processing
  - verify boundary element handling: is it processed or skipped?
- step 3: verify context dependencies preserved (functions may need locks/state from original location)
- step 4: check for inverted conditionals

**After analysis:** Issues found: [none OR list]
