# CS-003: Cross-function data flow

**Risk**: Logic error

**When to check**: Mandatory when variables passed between functions, or data format changes, or encoding changes

**Pattern-specific TodoWrite fields**:
- Functions receiving variable: [name at file:line] - [definition read? YES/NO]
- Encoding/format changes: Original [describe], New [describe], All consumers updated [YES/NO]
- Producer/consumer consistency: Modified paths [consistent? YES/NO], Unmodified paths [still consistent? YES/NO]

**Mandatory full lifecycle tracking**:
- You must track variable through ENTIRE lifecycle: set → store → read → use
- track all variables (even unchanged) in a TodoWrite
- track complete data flow (even unchanged) in the same TodoWrite
- track all functions receiving modified variables in TodoWrite
- read full definitions of tracked functions
- verify all consumers properly updated for any encoding or format changes
- check both modified and unmodified code paths when variables or resources change
  - Ensure producers and consumers are still in sync and consistent

**Mandatory Self-verification gate:**

**Pattern-specific questions**:
  1. How many consumers are NOT updated for encoding/format changes? [number]
  2. How many producer/consumer pairs are inconsistent? [number]

If you cannot answer ALL questions with evidence, RESTART CS-003 from the beginning.
