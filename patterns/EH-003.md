# EH-003: Error value preservation

**Risk**: Lost errors

**When to check:** Mandatory when error values overwritten before action taken

Place each step defined below into TodoWrite.

**Mandatory error preservation validation:**
- step 1: read entire function
  - Add function name to TodoWrite
  - Output: function name, and a random line from anywhere in the definition
    - you must prove you read the function
- step 2: check all error value handling in modified functions, even if they didn't change
  - Add every error value handling statement into TodoWrite
  - Output: quote the actual error handling code and its location
- step 3: watch for `ret = func(); ... ret = 0;` patterns
- step 4: when loops accumulate errors, trace concrete iteration scenarios:
  - [fail, fail] - does final error match last failure?
  - [fail, success] - is error cleared on success?
  - [success, fail] - does success get overwritten?
- step 5: compare to similar patterns in codebase for consistency

**After analysis:** Issues found: [none OR list]
